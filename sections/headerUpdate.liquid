<div class="header-navigation">

  <!-- Hamburger Menu (mobile only) -->
  <button class="hamburger" aria-label="Menu">
    ‚ò∞
  </button>

  <!-- Logo -->
  {% if section.settings.image_logo != blank %}
    <div class="header__heading-logo-wrapper">
      {{ section.settings.image_logo | image_url: width: 200 | image_tag: class: 'header__heading-logo', alt: shop.name }}
    </div>
  {% endif %}

  <!-- Desktop Navigation -->
  <nav class="header__nav">
    <ul>
      {% for block in section.blocks %}
        <li class="has-submenu">
          <a href="#">{{ block.settings.title }}</a>

          {% if block.settings.menu_links != blank %}
            <div class="dropdown">
              <div class="dropdown-columns">
                {% for link in linklists[block.settings.menu_links].links %}
                  <div class="column">
                    <h4 class="column-title">
                      <a href="{{ link.url }}">{{ link.title }}</a>
                    </h4>
                    {% if link.links != blank %}
                      <ul class="column-list">
                        {% for sublink in link.links %}
                          <li><a href="{{ sublink.url }}">{{ sublink.title }}</a></li>
                        {% endfor %}
                      </ul>
                    {% endif %}
                  </div>
                {% endfor %}
              </div>
            </div>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  </nav>

  <!-- Icons -->
  <div class="header__icons">
    <a href="/search" class="icon">üîç</a>
    <a href="/account" class="icon">üë§</a>
    <a href="/cart" class="icon">üõí</a>
  </div>
</div>

<!-- Mobile Drawer -->
<div class="mobile-drawer">
  <button class="close-drawer">‚úï</button>
  <ul>
    {% for block in section.blocks %}
      <li>
        <a href="#">{{ block.settings.title }}</a>
        {% if block.settings.menu_links != blank %}
          <ul>
            {% for link in linklists[block.settings.menu_links].links %}
              <li>
                <a href="{{ link.url }}">{{ link.title }}</a>
                {% if link.links != blank %}
                  <ul>
                    {% for sublink in link.links %}
                      <li><a href="{{ sublink.url }}">{{ sublink.title }}</a></li>
                    {% endfor %}
                  </ul>
                {% endif %}
              </li>
            {% endfor %}
          </ul>
        {% endif %}
      </li>
    {% endfor %}
  </ul>
</div>

<style>
/* Header */
.header-navigation {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 20px;
  background: #fff;
  border-bottom: 1px solid #eee;
  position: relative;
}

.header__heading-logo-wrapper { 
  max-width: 140px; 
  flex-shrink: 0; 
}

.header__heading-logo { 
  max-width: 100%; 
  height: auto;
}

.header__nav > ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  gap: 20px;
}

.header__nav > ul > li > a {
  text-decoration: none;
  color: #333;
  font-weight: 500;
  padding: 10px;
}

.header__nav > ul > li.has-submenu:hover > .dropdown {
  display: flex;
}

.dropdown {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background: #fff;
  padding: 20px 30px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.08);
  z-index: 999;
  width: 100%;
}

.dropdown-columns {
  display: flex;
  gap: 100px;
}

.column-title a {
  font-size: 15px;
  font-weight: 700;
  text-transform: uppercase;
  margin-bottom: 12px;
  display: inline-block;
  color: #111;
  text-decoration: none;
}

.column-list li a {
  text-decoration: none;
  font-size: 14px;
  color: #555;
  transition: color 0.2s ease;
}

.column-list li a:hover {
  color: #007bff;
  font-weight: 600;
}

.header__icons {
  display: flex;
  gap: 15px;
}

.header__icons .icon {
  font-size: 18px;
  text-decoration: none;
  color: #333;
}

.header__icons .icon:hover {
  color: #007bff;
}

/* Hamburger - Mobile */
.hamburger {
  display: none;
  font-size: 24px;
  background: none;
  border: none;
  cursor: pointer;
}

/* Mobile Drawer */
.mobile-drawer {
  position: fixed;
  top: 0;
  left: -100%;
  width: 80%;
  max-width: 300px;
  height: 100%;
  background: #fff;
  box-shadow: 4px 0 15px rgba(0,0,0,0.2);
  padding: 20px;
  transition: left 0.3s ease;
  z-index: 9999;
  overflow-y: auto;
}

.mobile-drawer.open {
  left: 0;
}

.mobile-drawer .close-drawer {
  background: none;
  border: none;
  font-size: 24px;
  float: right;
  cursor: pointer;
}

.mobile-drawer ul {
  list-style: none;
  padding: 0;
}

.mobile-drawer ul li {
  margin-bottom: 15px;
}

.mobile-drawer ul li ul {
  padding-left: 15px;
}

.mobile-drawer a {
  text-decoration: none;
  color: #333;
  font-weight: 500;
}

.mobile-drawer a:hover {
  color: #007bff;
}

/* Responsive */
@media (max-width: 991px) {
  .header__nav {
    display: none;
  }

  .hamburger {
    display: block;
  }

  .header__heading-logo-wrapper {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
  }

  .header__icons {
    margin-left: auto;
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const hamburger = document.querySelector('.hamburger');
  const drawer = document.querySelector('.mobile-drawer');
  const closeDrawer = document.querySelector('.close-drawer');

  hamburger.addEventListener('click', () => {
    drawer.classList.add('open');
  });

  closeDrawer.addEventListener('click', () => {
    drawer.classList.remove('open');
  });
});
</script>


{% schema %}
{
  "name": "header_navigation",
  "settings": [
    {
      "type": "image_picker",
      "id": "image_logo",
      "label": "Logo Image"
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Menu"
    }
  ],
  "presets": [
    { "name": "header_navigation" }
  ]
}
{% endschema %}
